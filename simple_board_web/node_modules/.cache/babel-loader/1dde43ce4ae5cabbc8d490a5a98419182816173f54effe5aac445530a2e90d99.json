{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\uni42\\\\OneDrive\\\\\\uBB38\\uC11C\\\\GitHub\\\\simpleBoardWeb\\\\simple_board_web\\\\src\\\\page\\\\MainPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MainPage = () => {\n  _s();\n  const [boardList, setBoardList] = useState([]);\n  const navigate = useNavigate();\n  const [noticeBoard, setNoticeBoard] = useState([]);\n  const [check, setCheck] = useState(0);\n  const getBoardList = async () => {\n    const resp = await axios.get('http://localhost:8080/view');\n\n    // 2) 게시글 목록 데이터에 할당\n    setBoardList(resp.data); // 3) boardList 변수에 할당\n    // console.log(resp.data)\n\n    showBoard();\n  };\n  function showBoard() {\n    const totalPage = boardList.length;\n    // let page_num = 20\n    // const block = 1\n    const wrClass = ['wr__num', 'wr__title', 'wr__user', 'wr__type', 'wr__date'];\n    console.log(boardList);\n    // const start = totalPage - page_num * (block - 1)\n    const posts = [];\n    for (let i = 0; i < totalPage; i++) {\n      const postData = [boardList[i].id, boardList[i].title, boardList[i].writer, boardList[i].createdAt];\n      console.log(postData);\n      const post = /*#__PURE__*/_jsxDEV(Link, {\n        to: `/board/worry/${postData[0]}`,\n        className: \"board_row data_row\",\n        children: wrClass.map((className, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: className,\n          children: postData[j]\n        }, j, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this))\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this);\n      posts.push(post);\n    }\n    setNoticeBoard(posts);\n  }\n  const moveToWrite = () => {\n    navigate('/BoardWrite');\n  };\n  useEffect(() => {\n    getBoardList(); // 1) 게시글 목록 조회 함수 호출\n    if (boardList.length == 0) {\n      setCheck(check + 1);\n    }\n  }, [check]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post__button\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: moveToWrite,\n        children: \"\\uAE00\\uC4F0\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notice_board\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"board_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"wr__num\",\n            children: \"\\uBC88\\uD638\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"wr__title\",\n            children: \"\\uC81C\\uBAA9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"wr__user\",\n            children: \"\\uC791\\uC131\\uC790\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"wr__type\",\n            children: \"\\uACE0\\uBBFC\\uC720\\uD615\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"wr__date\",\n            children: \"\\uC791\\uC131\\uC77C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), noticeBoard]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"before_move\",\n          children: \"\\uC774\\uC804\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"next_move\",\n          children: \"\\uB2E4\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(MainPage, \"YwtfBUUuq78IL76hgSquAf837Fk=\", false, function () {\n  return [useNavigate];\n});\n_c = MainPage;\nvar _c;\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["React","useEffect","useState","axios","Link","useNavigate","jsxDEV","_jsxDEV","MainPage","_s","boardList","setBoardList","navigate","noticeBoard","setNoticeBoard","check","setCheck","getBoardList","resp","get","data","showBoard","totalPage","length","wrClass","console","log","posts","i","postData","id","title","writer","createdAt","post","to","className","children","map","j","fileName","_jsxFileName","lineNumber","columnNumber","push","moveToWrite","onClick","_c","$RefreshReg$"],"sources":["C:/Users/uni42/OneDrive/문서/GitHub/simpleBoardWeb/simple_board_web/src/page/MainPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\n\r\nexport const MainPage = () => {\r\n  const [boardList, setBoardList] = useState([])\r\n  const navigate = useNavigate()\r\n  const [noticeBoard, setNoticeBoard] = useState([])\r\n  const [check, setCheck] = useState(0)\r\n\r\n  const getBoardList = async () => {\r\n    const resp = await axios.get(\r\n      'http://localhost:8080/view',\r\n    )\r\n\r\n    // 2) 게시글 목록 데이터에 할당\r\n    setBoardList(resp.data) // 3) boardList 변수에 할당\r\n    // console.log(resp.data)\r\n\r\n    showBoard()\r\n  }\r\n\r\n  function showBoard() {\r\n    const totalPage = boardList.length\r\n    // let page_num = 20\r\n    // const block = 1\r\n    const wrClass = ['wr__num', 'wr__title', 'wr__user', 'wr__type', 'wr__date']\r\n\r\n    console.log(boardList)\r\n    // const start = totalPage - page_num * (block - 1)\r\n    const posts = []\r\n    for (let i = 0; i < totalPage; i++) {\r\n      const postData = [\r\n        boardList[i].id,\r\n        boardList[i].title,\r\n        boardList[i].writer,\r\n        boardList[i].createdAt,\r\n      ]\r\n      console.log(postData)\r\n      \r\n      const post = (\r\n        <Link\r\n          to={`/board/worry/${postData[0]}`}\r\n          key={i}\r\n          className=\"board_row data_row\"\r\n        >\r\n          {wrClass.map((className, j) => (\r\n            <div key={j} className={className}>\r\n              {postData[j]}\r\n            </div>\r\n          ))}\r\n        </Link>\r\n      )\r\n\r\n      posts.push(post)\r\n    }\r\n\r\n    setNoticeBoard(posts)\r\n  }\r\n\r\n  const moveToWrite = () => {\r\n    navigate('/BoardWrite')\r\n  }\r\n\r\n  useEffect(() => {\r\n    getBoardList() // 1) 게시글 목록 조회 함수 호출\r\n    if (boardList.length == 0) {\r\n      setCheck(check + 1)\r\n    }\r\n  }, [check])\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"post__button\">\r\n        <button onClick={moveToWrite}>글쓰기</button>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"notice_board\">\r\n          <ul className=\"board_row\">\r\n            <li className=\"wr__num\">번호</li>\r\n            <li className=\"wr__title\">제목</li>\r\n            <li className=\"wr__user\">작성자</li>\r\n            <li className=\"wr__type\">고민유형</li>\r\n            <li className=\"wr__date\">작성일</li>\r\n          </ul>\r\n          {noticeBoard}\r\n        </div>\r\n\r\n        <div className=\"pagination\">\r\n          <button className=\"before_move\">이전</button>\r\n          <div className=\"block\"></div>\r\n          <button className=\"next_move\">다음</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEpD,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAMU,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC;EAErC,MAAMe,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAMC,IAAI,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAC1B,4BACF,CAAC;;IAED;IACAR,YAAY,CAACO,IAAI,CAACE,IAAI,CAAC,EAAC;IACxB;;IAEAC,SAAS,CAAC,CAAC;EACb,CAAC;EAED,SAASA,SAASA,CAAA,EAAG;IACnB,MAAMC,SAAS,GAAGZ,SAAS,CAACa,MAAM;IAClC;IACA;IACA,MAAMC,OAAO,GAAG,CAAC,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;IAE5EC,OAAO,CAACC,GAAG,CAAChB,SAAS,CAAC;IACtB;IACA,MAAMiB,KAAK,GAAG,EAAE;IAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,SAAS,EAAEM,CAAC,EAAE,EAAE;MAClC,MAAMC,QAAQ,GAAG,CACfnB,SAAS,CAACkB,CAAC,CAAC,CAACE,EAAE,EACfpB,SAAS,CAACkB,CAAC,CAAC,CAACG,KAAK,EAClBrB,SAAS,CAACkB,CAAC,CAAC,CAACI,MAAM,EACnBtB,SAAS,CAACkB,CAAC,CAAC,CAACK,SAAS,CACvB;MACDR,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC;MAErB,MAAMK,IAAI,gBACR3B,OAAA,CAACH,IAAI;QACH+B,EAAE,EAAG,gBAAeN,QAAQ,CAAC,CAAC,CAAE,EAAE;QAElCO,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAE7Bb,OAAO,CAACc,GAAG,CAAC,CAACF,SAAS,EAAEG,CAAC,kBACxBhC,OAAA;UAAa6B,SAAS,EAAEA,SAAU;UAAAC,QAAA,EAC/BR,QAAQ,CAACU,CAAC;QAAC,GADJA,CAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEN,CACN;MAAC,GAPGf,CAAC;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAQF,CACP;MAEDhB,KAAK,CAACiB,IAAI,CAACV,IAAI,CAAC;IAClB;IAEApB,cAAc,CAACa,KAAK,CAAC;EACvB;EAEA,MAAMkB,WAAW,GAAGA,CAAA,KAAM;IACxBjC,QAAQ,CAAC,aAAa,CAAC;EACzB,CAAC;EAEDX,SAAS,CAAC,MAAM;IACdgB,YAAY,CAAC,CAAC,EAAC;IACf,IAAIP,SAAS,CAACa,MAAM,IAAI,CAAC,EAAE;MACzBP,QAAQ,CAACD,KAAK,GAAG,CAAC,CAAC;IACrB;EACF,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,oBACER,OAAA;IAAK6B,SAAS,EAAC,SAAS;IAAAC,QAAA,gBACtB9B,OAAA;MAAK6B,SAAS,EAAC,cAAc;MAAAC,QAAA,eAC3B9B,OAAA;QAAQuC,OAAO,EAAED,WAAY;QAAAR,QAAA,EAAC;MAAG;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvC,CAAC,eAENpC,OAAA;MAAK6B,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxB9B,OAAA;QAAK6B,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B9B,OAAA;UAAI6B,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACvB9B,OAAA;YAAI6B,SAAS,EAAC,SAAS;YAAAC,QAAA,EAAC;UAAE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/BpC,OAAA;YAAI6B,SAAS,EAAC,WAAW;YAAAC,QAAA,EAAC;UAAE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjCpC,OAAA;YAAI6B,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAG;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjCpC,OAAA;YAAI6B,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAI;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClCpC,OAAA;YAAI6B,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAG;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC,EACJ9B,WAAW;MAAA;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eAENpC,OAAA;QAAK6B,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzB9B,OAAA;UAAQ6B,SAAS,EAAC,aAAa;UAAAC,QAAA,EAAC;QAAE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC3CpC,OAAA;UAAK6B,SAAS,EAAC;QAAO;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC7BpC,OAAA;UAAQ6B,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAAlC,EAAA,CA7FYD,QAAQ;EAAA,QAEFH,WAAW;AAAA;AAAA0C,EAAA,GAFjBvC,QAAQ;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}